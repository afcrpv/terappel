.inline-inputs
  = f.input :code, label: "N° d'appel", input_html: {class: "span2"}
  = f.input :date_appel, as: :string, label: "Date d'appel", input_html: {autofocus: true, "data-value" => date_appel, class: "dateITA dateNotFuture span2"}
.inline-inputs
  = f.association :motif, input_html: {class: "span6"}
  = f.input :expo_terato, as: :select, collection: Dossier::ONI, label: "Témoin", input_html: {class: "span1"}

.control-group#dossier_correspondant_id_field
  = f.label :correspondant_nom, "Correspondant", class: "control-label"
  .controls
    .input-append
      = f.autocomplete_field :correspondant_nom, autocomplete_correspondant_fullname_dossiers_path,
        id_element: "#dossier_correspondant_id", class: "span6"
      - if can?(:create, Correspondant)
        = button_tag "#", data: {link: new_correspondant_path(modal: true)}, class: "btn create" do
          %i.icon-plus
          Ajout
      - if can?(:update, Correspondant)
        = button_tag "#", data: {link: edit_correspondant_path(modal: true, id: "__ID__")}, class: "btn update" do
          %i.icon-pencil
          Voir/modifier
  = f.input :correspondant_id, as: :hidden

.inline-inputs
  = f.input :name, label: "Nom patiente", input_html: {class: "span2"}
  = f.input :prenom, label: "Prénom", input_html: {class: "span2"}
.inline-inputs
  = f.input :date_naissance, as: :string, label: "Date de naissance", input_html: {class: "dateITA dateNotFuture span2", "data-value" => date_naissance}
  = f.input :age, input_html: {class: "span1"}

.inline-inputs
  = f.input :poids, wrapper: :append do
    = f.input_field :poids, class: :span1
    %span.add-on kg
  = f.input :taille, wrapper: :append do
    = f.input_field :taille, class: "span1"
    %span.add-on cm
  = f.input :imc, label: "IMC", wrapper: :append do
    = f.input_field :imc, disabled: true, class: "span1"
    %span.add-on
      kg/m
      %sup> 2

= f.association :categoriesp, label: "C.S.P.", input_html: {class: "span6"}

.inline-inputs
  = f.input :antecedents_perso, label: "Antécédents personnels", as: :select, collection: Dossier::ONI,
    input_html: {class: "span1"}
  = f.input :comm_antecedents_perso, label: "Préciser", wrapper_html: {style: "display: none;"},
    input_html: {class: "span6", rows: "1"}

.inline-inputs
  = f.input :antecedents_fam, label: "Antécédents familiaux", as: :select, collection: Dossier::ONI,
    input_html: {class: "span1"}
  = f.input :comm_antecedents_fam, label: "Préciser", wrapper_html: {style: "display: none;"},
    input_html: {class: "span6", rows: "1"}

%table#grossesses_anterieures
  %tbody
    %tr
      %th{colspan: "5"} Nbr de grossesse(s) antérieure(s)
      %td= f.text_field :grsant, class: "span1"
    %tr
      - [:fcs, :geu, :miu].each do |item|
        %th= item.to_s.upcase
        %td= f.text_field item, class: "span1"
    %tr
      - [:ivg, :img, :nai].each do |item|
        %th= item.to_s.upcase
        %td= f.text_field item, class: "span1"
